"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_sc_server_node_modules_langchain_dist_chat_models_openai_js";
exports.ids = ["_sc_server_node_modules_langchain_dist_chat_models_openai_js"];
exports.modules = {

/***/ "(sc_server)/./node_modules/langchain/dist/chat_models/base.js":
/*!*********************************************************!*\
  !*** ./node_modules/langchain/dist/chat_models/base.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseChatModel: () => (/* binding */ BaseChatModel),\n/* harmony export */   SimpleChatModel: () => (/* binding */ SimpleChatModel)\n/* harmony export */ });\n/* harmony import */ var _schema_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../schema/index.js */ \"(sc_server)/./node_modules/langchain/dist/schema/index.js\");\n/* harmony import */ var _base_language_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base_language/index.js */ \"(sc_server)/./node_modules/langchain/dist/base_language/index.js\");\n/* harmony import */ var _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../callbacks/manager.js */ \"(sc_server)/./node_modules/langchain/dist/callbacks/manager.js\");\n\n\n\nclass BaseChatModel extends _base_language_index_js__WEBPACK_IMPORTED_MODULE_1__.BaseLanguageModel {\n    constructor(fields){\n        super(fields);\n        Object.defineProperty(this, \"lc_namespace\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: [\n                \"langchain\",\n                \"chat_models\",\n                this._llmType()\n            ]\n        });\n    }\n    async generate(messages, options, callbacks) {\n        const generations = [];\n        const llmOutputs = [];\n        let parsedOptions;\n        if (Array.isArray(options)) {\n            parsedOptions = {\n                stop: options\n            };\n        } else if (options?.timeout && !options.signal) {\n            parsedOptions = {\n                ...options,\n                signal: AbortSignal.timeout(options.timeout)\n            };\n        } else {\n            parsedOptions = options ?? {};\n        }\n        const callbackManager_ = await _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_2__.CallbackManager.configure(callbacks, this.callbacks, parsedOptions.tags, this.tags, {\n            verbose: this.verbose\n        });\n        const extra = {\n            options: parsedOptions,\n            invocation_params: this?.invocationParams()\n        };\n        const runManager = await callbackManager_?.handleChatModelStart(this.toJSON(), messages, undefined, undefined, extra);\n        try {\n            const results = await Promise.all(messages.map((messageList)=>this._generate(messageList, parsedOptions, runManager)));\n            for (const result of results){\n                if (result.llmOutput) {\n                    llmOutputs.push(result.llmOutput);\n                }\n                generations.push(result.generations);\n            }\n        } catch (err) {\n            await runManager?.handleLLMError(err);\n            throw err;\n        }\n        const output = {\n            generations,\n            llmOutput: llmOutputs.length ? this._combineLLMOutput?.(...llmOutputs) : undefined\n        };\n        await runManager?.handleLLMEnd(output);\n        Object.defineProperty(output, _schema_index_js__WEBPACK_IMPORTED_MODULE_0__.RUN_KEY, {\n            value: runManager ? {\n                runId: runManager?.runId\n            } : undefined,\n            configurable: true\n        });\n        return output;\n    }\n    /**\n     * Get the parameters used to invoke the model\n     */ // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    invocationParams() {\n        return {};\n    }\n    _modelType() {\n        return \"base_chat_model\";\n    }\n    async generatePrompt(promptValues, options, callbacks) {\n        const promptMessages = promptValues.map((promptValue)=>promptValue.toChatMessages());\n        return this.generate(promptMessages, options, callbacks);\n    }\n    async call(messages, options, callbacks) {\n        const result = await this.generate([\n            messages\n        ], options, callbacks);\n        const generations = result.generations;\n        return generations[0][0].message;\n    }\n    async callPrompt(promptValue, options, callbacks) {\n        const promptMessages = promptValue.toChatMessages();\n        return this.call(promptMessages, options, callbacks);\n    }\n    async predictMessages(messages, options, callbacks) {\n        return this.call(messages, options, callbacks);\n    }\n    async predict(text, options, callbacks) {\n        const message = new _schema_index_js__WEBPACK_IMPORTED_MODULE_0__.HumanChatMessage(text);\n        const result = await this.call([\n            message\n        ], options, callbacks);\n        return result.text;\n    }\n}\nclass SimpleChatModel extends BaseChatModel {\n    async _generate(messages, options, runManager) {\n        const text = await this._call(messages, options, runManager);\n        const message = new _schema_index_js__WEBPACK_IMPORTED_MODULE_0__.AIChatMessage(text);\n        return {\n            generations: [\n                {\n                    text: message.text,\n                    message\n                }\n            ]\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNjX3NlcnZlcikvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhdF9tb2RlbHMvYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUErRTtBQUNoQjtBQUNKO0FBQ3BELE1BQU1LLHNCQUFzQkYsc0VBQWlCQTtJQUNoREcsWUFBWUMsTUFBTSxDQUFFO1FBQ2hCLEtBQUssQ0FBQ0E7UUFDTkMsT0FBT0MsZUFBZSxJQUFJLEVBQUUsZ0JBQWdCO1lBQ3hDQyxZQUFZO1lBQ1pDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxPQUFPO2dCQUFDO2dCQUFhO2dCQUFlLElBQUksQ0FBQ0M7YUFBVztRQUN4RDtJQUNKO0lBQ0EsTUFBTUMsU0FBU0MsUUFBUSxFQUFFQyxPQUFPLEVBQUVDLFNBQVMsRUFBRTtRQUN6QyxNQUFNQyxjQUFjLEVBQUU7UUFDdEIsTUFBTUMsYUFBYSxFQUFFO1FBQ3JCLElBQUlDO1FBQ0osSUFBSUMsTUFBTUMsUUFBUU4sVUFBVTtZQUN4QkksZ0JBQWdCO2dCQUFFRyxNQUFNUDtZQUFRO1FBQ3BDLE9BQ0ssSUFBSUEsU0FBU1EsV0FBVyxDQUFDUixRQUFRUyxRQUFRO1lBQzFDTCxnQkFBZ0I7Z0JBQ1osR0FBR0osT0FBTztnQkFDVlMsUUFBUUMsWUFBWUYsUUFBUVIsUUFBUVE7WUFDeEM7UUFDSixPQUNLO1lBQ0RKLGdCQUFnQkosV0FBVyxDQUFDO1FBQ2hDO1FBQ0EsTUFBTVcsbUJBQW1CLE1BQU14QixrRUFBZUEsQ0FBQ3lCLFVBQVVYLFdBQVcsSUFBSSxDQUFDQSxXQUFXRyxjQUFjUyxNQUFNLElBQUksQ0FBQ0EsTUFBTTtZQUFFQyxTQUFTLElBQUksQ0FBQ0E7UUFBUTtRQUMzSSxNQUFNQyxRQUFRO1lBQ1ZmLFNBQVNJO1lBQ1RZLG1CQUFtQixJQUFJLEVBQUVDO1FBQzdCO1FBQ0EsTUFBTUMsYUFBYSxNQUFNUCxrQkFBa0JRLHFCQUFxQixJQUFJLENBQUNDLFVBQVVyQixVQUFVc0IsV0FBV0EsV0FBV047UUFDL0csSUFBSTtZQUNBLE1BQU1PLFVBQVUsTUFBTUMsUUFBUUMsSUFBSXpCLFNBQVMwQixJQUFJLENBQUNDLGNBQWdCLElBQUksQ0FBQ0MsVUFBVUQsYUFBYXRCLGVBQWVjO1lBQzNHLEtBQUssTUFBTVUsVUFBVU4sUUFBUztnQkFDMUIsSUFBSU0sT0FBT0MsV0FBVztvQkFDbEIxQixXQUFXMkIsS0FBS0YsT0FBT0M7Z0JBQzNCO2dCQUNBM0IsWUFBWTRCLEtBQUtGLE9BQU8xQjtZQUM1QjtRQUNKLEVBQ0EsT0FBTzZCLEtBQUs7WUFDUixNQUFNYixZQUFZYyxlQUFlRDtZQUNqQyxNQUFNQTtRQUNWO1FBQ0EsTUFBTUUsU0FBUztZQUNYL0I7WUFDQTJCLFdBQVcxQixXQUFXK0IsU0FDaEIsSUFBSSxDQUFDQyx1QkFBdUJoQyxjQUM1QmtCO1FBQ1Y7UUFDQSxNQUFNSCxZQUFZa0IsYUFBYUg7UUFDL0IxQyxPQUFPQyxlQUFleUMsUUFBUWhELHFEQUFPQSxFQUFFO1lBQ25DVyxPQUFPc0IsYUFBYTtnQkFBRW1CLE9BQU9uQixZQUFZbUI7WUFBTSxJQUFJaEI7WUFDbkQzQixjQUFjO1FBQ2xCO1FBQ0EsT0FBT3VDO0lBQ1g7SUFDQTs7S0FFQyxHQUNELDhEQUE4RDtJQUM5RGhCLG1CQUFtQjtRQUNmLE9BQU8sQ0FBQztJQUNaO0lBQ0FxQixhQUFhO1FBQ1QsT0FBTztJQUNYO0lBQ0EsTUFBTUMsZUFBZUMsWUFBWSxFQUFFeEMsT0FBTyxFQUFFQyxTQUFTLEVBQUU7UUFDbkQsTUFBTXdDLGlCQUFpQkQsYUFBYWYsSUFBSSxDQUFDaUIsY0FBZ0JBLFlBQVlDO1FBQ3JFLE9BQU8sSUFBSSxDQUFDN0MsU0FBUzJDLGdCQUFnQnpDLFNBQVNDO0lBQ2xEO0lBQ0EsTUFBTTJDLEtBQUs3QyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsU0FBUyxFQUFFO1FBQ3JDLE1BQU0yQixTQUFTLE1BQU0sSUFBSSxDQUFDOUIsU0FBUztZQUFDQztTQUFTLEVBQUVDLFNBQVNDO1FBQ3hELE1BQU1DLGNBQWMwQixPQUFPMUI7UUFDM0IsT0FBT0EsV0FBVyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMyQztJQUM3QjtJQUNBLE1BQU1DLFdBQVdKLFdBQVcsRUFBRTFDLE9BQU8sRUFBRUMsU0FBUyxFQUFFO1FBQzlDLE1BQU13QyxpQkFBaUJDLFlBQVlDO1FBQ25DLE9BQU8sSUFBSSxDQUFDQyxLQUFLSCxnQkFBZ0J6QyxTQUFTQztJQUM5QztJQUNBLE1BQU04QyxnQkFBZ0JoRCxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsU0FBUyxFQUFFO1FBQ2hELE9BQU8sSUFBSSxDQUFDMkMsS0FBSzdDLFVBQVVDLFNBQVNDO0lBQ3hDO0lBQ0EsTUFBTStDLFFBQVFDLElBQUksRUFBRWpELE9BQU8sRUFBRUMsU0FBUyxFQUFFO1FBQ3BDLE1BQU00QyxVQUFVLElBQUk3RCw4REFBZ0JBLENBQUNpRTtRQUNyQyxNQUFNckIsU0FBUyxNQUFNLElBQUksQ0FBQ2dCLEtBQUs7WUFBQ0M7U0FBUSxFQUFFN0MsU0FBU0M7UUFDbkQsT0FBTzJCLE9BQU9xQjtJQUNsQjtBQUNKO0FBQ08sTUFBTUMsd0JBQXdCOUQ7SUFDakMsTUFBTXVDLFVBQVU1QixRQUFRLEVBQUVDLE9BQU8sRUFBRWtCLFVBQVUsRUFBRTtRQUMzQyxNQUFNK0IsT0FBTyxNQUFNLElBQUksQ0FBQ0UsTUFBTXBELFVBQVVDLFNBQVNrQjtRQUNqRCxNQUFNMkIsVUFBVSxJQUFJOUQsMkRBQWFBLENBQUNrRTtRQUNsQyxPQUFPO1lBQ0gvQyxhQUFhO2dCQUNUO29CQUNJK0MsTUFBTUosUUFBUUk7b0JBQ2RKO2dCQUNKO2FBQ0g7UUFDTDtJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb29kLy4vbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYXRfbW9kZWxzL2Jhc2UuanM/OGFkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBSUNoYXRNZXNzYWdlLCBIdW1hbkNoYXRNZXNzYWdlLCBSVU5fS0VZLCB9IGZyb20gXCIuLi9zY2hlbWEvaW5kZXguanNcIjtcbmltcG9ydCB7IEJhc2VMYW5ndWFnZU1vZGVsLCB9IGZyb20gXCIuLi9iYXNlX2xhbmd1YWdlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBDYWxsYmFja01hbmFnZXIsIH0gZnJvbSBcIi4uL2NhbGxiYWNrcy9tYW5hZ2VyLmpzXCI7XG5leHBvcnQgY2xhc3MgQmFzZUNoYXRNb2RlbCBleHRlbmRzIEJhc2VMYW5ndWFnZU1vZGVsIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJjaGF0X21vZGVsc1wiLCB0aGlzLl9sbG1UeXBlKCldXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBnZW5lcmF0ZShtZXNzYWdlcywgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpb25zID0gW107XG4gICAgICAgIGNvbnN0IGxsbU91dHB1dHMgPSBbXTtcbiAgICAgICAgbGV0IHBhcnNlZE9wdGlvbnM7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBwYXJzZWRPcHRpb25zID0geyBzdG9wOiBvcHRpb25zIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucz8udGltZW91dCAmJiAhb3B0aW9ucy5zaWduYWwpIHtcbiAgICAgICAgICAgIHBhcnNlZE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQob3B0aW9ucy50aW1lb3V0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJzZWRPcHRpb25zID0gb3B0aW9ucyA/PyB7fTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShjYWxsYmFja3MsIHRoaXMuY2FsbGJhY2tzLCBwYXJzZWRPcHRpb25zLnRhZ3MsIHRoaXMudGFncywgeyB2ZXJib3NlOiB0aGlzLnZlcmJvc2UgfSk7XG4gICAgICAgIGNvbnN0IGV4dHJhID0ge1xuICAgICAgICAgICAgb3B0aW9uczogcGFyc2VkT3B0aW9ucyxcbiAgICAgICAgICAgIGludm9jYXRpb25fcGFyYW1zOiB0aGlzPy5pbnZvY2F0aW9uUGFyYW1zKCksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGF0TW9kZWxTdGFydCh0aGlzLnRvSlNPTigpLCBtZXNzYWdlcywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGV4dHJhKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChtZXNzYWdlcy5tYXAoKG1lc3NhZ2VMaXN0KSA9PiB0aGlzLl9nZW5lcmF0ZShtZXNzYWdlTGlzdCwgcGFyc2VkT3B0aW9ucywgcnVuTWFuYWdlcikpKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmxsbU91dHB1dCkge1xuICAgICAgICAgICAgICAgICAgICBsbG1PdXRwdXRzLnB1c2gocmVzdWx0LmxsbU91dHB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdlbmVyYXRpb25zLnB1c2gocmVzdWx0LmdlbmVyYXRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVMTE1FcnJvcihlcnIpO1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHtcbiAgICAgICAgICAgIGdlbmVyYXRpb25zLFxuICAgICAgICAgICAgbGxtT3V0cHV0OiBsbG1PdXRwdXRzLmxlbmd0aFxuICAgICAgICAgICAgICAgID8gdGhpcy5fY29tYmluZUxMTU91dHB1dD8uKC4uLmxsbU91dHB1dHMpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTUVuZChvdXRwdXQpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3V0cHV0LCBSVU5fS0VZLCB7XG4gICAgICAgICAgICB2YWx1ZTogcnVuTWFuYWdlciA/IHsgcnVuSWQ6IHJ1bk1hbmFnZXI/LnJ1bklkIH0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBhcmFtZXRlcnMgdXNlZCB0byBpbnZva2UgdGhlIG1vZGVsXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBpbnZvY2F0aW9uUGFyYW1zKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIF9tb2RlbFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImJhc2VfY2hhdF9tb2RlbFwiO1xuICAgIH1cbiAgICBhc3luYyBnZW5lcmF0ZVByb21wdChwcm9tcHRWYWx1ZXMsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuICAgICAgICBjb25zdCBwcm9tcHRNZXNzYWdlcyA9IHByb21wdFZhbHVlcy5tYXAoKHByb21wdFZhbHVlKSA9PiBwcm9tcHRWYWx1ZS50b0NoYXRNZXNzYWdlcygpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGUocHJvbXB0TWVzc2FnZXMsIG9wdGlvbnMsIGNhbGxiYWNrcyk7XG4gICAgfVxuICAgIGFzeW5jIGNhbGwobWVzc2FnZXMsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmdlbmVyYXRlKFttZXNzYWdlc10sIG9wdGlvbnMsIGNhbGxiYWNrcyk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpb25zID0gcmVzdWx0LmdlbmVyYXRpb25zO1xuICAgICAgICByZXR1cm4gZ2VuZXJhdGlvbnNbMF1bMF0ubWVzc2FnZTtcbiAgICB9XG4gICAgYXN5bmMgY2FsbFByb21wdChwcm9tcHRWYWx1ZSwgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGNvbnN0IHByb21wdE1lc3NhZ2VzID0gcHJvbXB0VmFsdWUudG9DaGF0TWVzc2FnZXMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbChwcm9tcHRNZXNzYWdlcywgb3B0aW9ucywgY2FsbGJhY2tzKTtcbiAgICB9XG4gICAgYXN5bmMgcHJlZGljdE1lc3NhZ2VzKG1lc3NhZ2VzLCBvcHRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbChtZXNzYWdlcywgb3B0aW9ucywgY2FsbGJhY2tzKTtcbiAgICB9XG4gICAgYXN5bmMgcHJlZGljdCh0ZXh0LCBvcHRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBIdW1hbkNoYXRNZXNzYWdlKHRleHQpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNhbGwoW21lc3NhZ2VdLCBvcHRpb25zLCBjYWxsYmFja3MpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LnRleHQ7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFNpbXBsZUNoYXRNb2RlbCBleHRlbmRzIEJhc2VDaGF0TW9kZWwge1xuICAgIGFzeW5jIF9nZW5lcmF0ZShtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgdGhpcy5fY2FsbChtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcik7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgQUlDaGF0TWVzc2FnZSh0ZXh0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdlbmVyYXRpb25zOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBtZXNzYWdlLnRleHQsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH07XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkFJQ2hhdE1lc3NhZ2UiLCJIdW1hbkNoYXRNZXNzYWdlIiwiUlVOX0tFWSIsIkJhc2VMYW5ndWFnZU1vZGVsIiwiQ2FsbGJhY2tNYW5hZ2VyIiwiQmFzZUNoYXRNb2RlbCIsImNvbnN0cnVjdG9yIiwiZmllbGRzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJ2YWx1ZSIsIl9sbG1UeXBlIiwiZ2VuZXJhdGUiLCJtZXNzYWdlcyIsIm9wdGlvbnMiLCJjYWxsYmFja3MiLCJnZW5lcmF0aW9ucyIsImxsbU91dHB1dHMiLCJwYXJzZWRPcHRpb25zIiwiQXJyYXkiLCJpc0FycmF5Iiwic3RvcCIsInRpbWVvdXQiLCJzaWduYWwiLCJBYm9ydFNpZ25hbCIsImNhbGxiYWNrTWFuYWdlcl8iLCJjb25maWd1cmUiLCJ0YWdzIiwidmVyYm9zZSIsImV4dHJhIiwiaW52b2NhdGlvbl9wYXJhbXMiLCJpbnZvY2F0aW9uUGFyYW1zIiwicnVuTWFuYWdlciIsImhhbmRsZUNoYXRNb2RlbFN0YXJ0IiwidG9KU09OIiwidW5kZWZpbmVkIiwicmVzdWx0cyIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJtZXNzYWdlTGlzdCIsIl9nZW5lcmF0ZSIsInJlc3VsdCIsImxsbU91dHB1dCIsInB1c2giLCJlcnIiLCJoYW5kbGVMTE1FcnJvciIsIm91dHB1dCIsImxlbmd0aCIsIl9jb21iaW5lTExNT3V0cHV0IiwiaGFuZGxlTExNRW5kIiwicnVuSWQiLCJfbW9kZWxUeXBlIiwiZ2VuZXJhdGVQcm9tcHQiLCJwcm9tcHRWYWx1ZXMiLCJwcm9tcHRNZXNzYWdlcyIsInByb21wdFZhbHVlIiwidG9DaGF0TWVzc2FnZXMiLCJjYWxsIiwibWVzc2FnZSIsImNhbGxQcm9tcHQiLCJwcmVkaWN0TWVzc2FnZXMiLCJwcmVkaWN0IiwidGV4dCIsIlNpbXBsZUNoYXRNb2RlbCIsIl9jYWxsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(sc_server)/./node_modules/langchain/dist/chat_models/base.js\n");

/***/ }),

/***/ "(sc_server)/./node_modules/langchain/dist/chat_models/openai.js":
/*!***********************************************************!*\
  !*** ./node_modules/langchain/dist/chat_models/openai.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatOpenAI: () => (/* binding */ ChatOpenAI),\n/* harmony export */   PromptLayerChatOpenAI: () => (/* binding */ PromptLayerChatOpenAI)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"(sc_server)/./node_modules/openai/dist/index.js\");\n/* harmony import */ var _util_env_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/env.js */ \"(sc_server)/./node_modules/langchain/dist/util/env.js\");\n/* harmony import */ var _util_axios_fetch_adapter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/axios-fetch-adapter.js */ \"(sc_server)/./node_modules/langchain/dist/util/axios-fetch-adapter.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"(sc_server)/./node_modules/langchain/dist/chat_models/base.js\");\n/* harmony import */ var _schema_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../schema/index.js */ \"(sc_server)/./node_modules/langchain/dist/schema/index.js\");\n/* harmony import */ var _base_language_count_tokens_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../base_language/count_tokens.js */ \"(sc_server)/./node_modules/langchain/dist/base_language/count_tokens.js\");\n/* harmony import */ var _util_prompt_layer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/prompt-layer.js */ \"(sc_server)/./node_modules/langchain/dist/util/prompt-layer.js\");\n/* harmony import */ var _tools_convert_to_openai_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tools/convert_to_openai.js */ \"(sc_server)/./node_modules/langchain/dist/tools/convert_to_openai.js\");\n\n\n\n\n\n\n\n\nfunction messageTypeToOpenAIRole(type) {\n    switch(type){\n        case \"system\":\n            return \"system\";\n        case \"ai\":\n            return \"assistant\";\n        case \"human\":\n            return \"user\";\n        case \"function\":\n            return \"function\";\n        default:\n            throw new Error(`Unknown message type: ${type}`);\n    }\n}\nfunction openAIResponseToChatMessage(message) {\n    switch(message.role){\n        case \"user\":\n            return new _schema_index_js__WEBPACK_IMPORTED_MODULE_4__.HumanChatMessage(message.content || \"\");\n        case \"assistant\":\n            return new _schema_index_js__WEBPACK_IMPORTED_MODULE_4__.AIChatMessage(message.content || \"\", {\n                function_call: message.function_call\n            });\n        case \"system\":\n            return new _schema_index_js__WEBPACK_IMPORTED_MODULE_4__.SystemChatMessage(message.content || \"\");\n        default:\n            return new _schema_index_js__WEBPACK_IMPORTED_MODULE_4__.ChatMessage(message.content || \"\", message.role ?? \"unknown\");\n    }\n}\n/**\n * Wrapper around OpenAI large language models that use the Chat endpoint.\n *\n * To use you should have the `openai` package installed, with the\n * `OPENAI_API_KEY` environment variable set.\n *\n * To use with Azure you should have the `openai` package installed, with the\n * `AZURE_OPENAI_API_KEY`,\n * `AZURE_OPENAI_API_INSTANCE_NAME`,\n * `AZURE_OPENAI_API_DEPLOYMENT_NAME`\n * and `AZURE_OPENAI_API_VERSION` environment variable set.\n *\n * @remarks\n * Any parameters that are valid to be passed to {@link\n * https://platform.openai.com/docs/api-reference/chat/create |\n * `openai.createCompletion`} can be passed through {@link modelKwargs}, even\n * if not explicitly available on this class.\n */ class ChatOpenAI extends _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseChatModel {\n    get callKeys() {\n        return [\n            \"stop\",\n            \"signal\",\n            \"timeout\",\n            \"options\",\n            \"functions\",\n            \"tools\"\n        ];\n    }\n    get lc_secrets() {\n        return {\n            openAIApiKey: \"OPENAI_API_KEY\",\n            azureOpenAIApiKey: \"AZURE_OPENAI_API_KEY\"\n        };\n    }\n    get lc_aliases() {\n        return {\n            modelName: \"model\",\n            openAIApiKey: \"openai_api_key\",\n            azureOpenAIApiVersion: \"azure_openai_api_version\",\n            azureOpenAIApiKey: \"azure_openai_api_key\",\n            azureOpenAIApiInstanceName: \"azure_openai_api_instance_name\",\n            azureOpenAIApiDeploymentName: \"azure_openai_api_deployment_name\"\n        };\n    }\n    constructor(fields, /** @deprecated */ configuration){\n        super(fields ?? {});\n        Object.defineProperty(this, \"lc_serializable\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n        Object.defineProperty(this, \"temperature\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 1\n        });\n        Object.defineProperty(this, \"topP\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 1\n        });\n        Object.defineProperty(this, \"frequencyPenalty\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 0\n        });\n        Object.defineProperty(this, \"presencePenalty\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 0\n        });\n        Object.defineProperty(this, \"n\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 1\n        });\n        Object.defineProperty(this, \"logitBias\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"modelName\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"gpt-3.5-turbo\"\n        });\n        Object.defineProperty(this, \"modelKwargs\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"stop\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"timeout\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"streaming\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: false\n        });\n        Object.defineProperty(this, \"maxTokens\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"openAIApiKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"azureOpenAIApiVersion\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"azureOpenAIApiKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"azureOpenAIApiInstanceName\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"azureOpenAIApiDeploymentName\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"clientConfig\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.openAIApiKey = fields?.openAIApiKey ?? (0,_util_env_js__WEBPACK_IMPORTED_MODULE_1__.getEnvironmentVariable)(\"OPENAI_API_KEY\");\n        this.azureOpenAIApiKey = fields?.azureOpenAIApiKey ?? (0,_util_env_js__WEBPACK_IMPORTED_MODULE_1__.getEnvironmentVariable)(\"AZURE_OPENAI_API_KEY\");\n        if (!this.azureOpenAIApiKey && !this.openAIApiKey) {\n            throw new Error(\"(Azure) OpenAI API key not found\");\n        }\n        this.azureOpenAIApiInstanceName = fields?.azureOpenAIApiInstanceName ?? (0,_util_env_js__WEBPACK_IMPORTED_MODULE_1__.getEnvironmentVariable)(\"AZURE_OPENAI_API_INSTANCE_NAME\");\n        this.azureOpenAIApiDeploymentName = fields?.azureOpenAIApiDeploymentName ?? (0,_util_env_js__WEBPACK_IMPORTED_MODULE_1__.getEnvironmentVariable)(\"AZURE_OPENAI_API_DEPLOYMENT_NAME\");\n        this.azureOpenAIApiVersion = fields?.azureOpenAIApiVersion ?? (0,_util_env_js__WEBPACK_IMPORTED_MODULE_1__.getEnvironmentVariable)(\"AZURE_OPENAI_API_VERSION\");\n        this.modelName = fields?.modelName ?? this.modelName;\n        this.modelKwargs = fields?.modelKwargs ?? {};\n        this.timeout = fields?.timeout;\n        this.temperature = fields?.temperature ?? this.temperature;\n        this.topP = fields?.topP ?? this.topP;\n        this.frequencyPenalty = fields?.frequencyPenalty ?? this.frequencyPenalty;\n        this.presencePenalty = fields?.presencePenalty ?? this.presencePenalty;\n        this.maxTokens = fields?.maxTokens;\n        this.n = fields?.n ?? this.n;\n        this.logitBias = fields?.logitBias;\n        this.stop = fields?.stop;\n        this.streaming = fields?.streaming ?? false;\n        if (this.streaming && this.n > 1) {\n            throw new Error(\"Cannot stream results when n > 1\");\n        }\n        if (this.azureOpenAIApiKey) {\n            if (!this.azureOpenAIApiInstanceName) {\n                throw new Error(\"Azure OpenAI API instance name not found\");\n            }\n            if (!this.azureOpenAIApiDeploymentName) {\n                throw new Error(\"Azure OpenAI API deployment name not found\");\n            }\n            if (!this.azureOpenAIApiVersion) {\n                throw new Error(\"Azure OpenAI API version not found\");\n            }\n        }\n        this.clientConfig = {\n            apiKey: this.openAIApiKey,\n            ...configuration,\n            ...fields?.configuration\n        };\n    }\n    /**\n     * Get the parameters used to invoke the model\n     */ invocationParams() {\n        return {\n            model: this.modelName,\n            temperature: this.temperature,\n            top_p: this.topP,\n            frequency_penalty: this.frequencyPenalty,\n            presence_penalty: this.presencePenalty,\n            max_tokens: this.maxTokens === -1 ? undefined : this.maxTokens,\n            n: this.n,\n            logit_bias: this.logitBias,\n            stop: this.stop,\n            stream: this.streaming,\n            ...this.modelKwargs\n        };\n    }\n    /** @ignore */ _identifyingParams() {\n        return {\n            model_name: this.modelName,\n            ...this.invocationParams(),\n            ...this.clientConfig\n        };\n    }\n    /**\n     * Get the identifying parameters for the model\n     */ identifyingParams() {\n        return this._identifyingParams();\n    }\n    /** @ignore */ async _generate(messages, options, runManager) {\n        const tokenUsage = {};\n        if (this.stop && options?.stop) {\n            throw new Error(\"Stop found in input and default params\");\n        }\n        const params = this.invocationParams();\n        params.stop = options?.stop ?? params.stop;\n        params.functions = options?.functions ?? (options?.tools ? options?.tools.map(_tools_convert_to_openai_js__WEBPACK_IMPORTED_MODULE_7__.formatToOpenAIFunction) : undefined);\n        params.function_call = options?.function_call;\n        const messagesMapped = messages.map((message)=>({\n                role: messageTypeToOpenAIRole(message._getType()),\n                content: message.text,\n                name: message.name\n            }));\n        const data = params.stream ? await new Promise((resolve, reject)=>{\n            let response;\n            let rejected = false;\n            let resolved = false;\n            this.completionWithRetry({\n                ...params,\n                messages: messagesMapped\n            }, {\n                signal: options?.signal,\n                ...options?.options,\n                adapter: _util_axios_fetch_adapter_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n                responseType: \"stream\",\n                onmessage: (event)=>{\n                    if (event.data?.trim?.() === \"[DONE]\") {\n                        if (resolved || rejected) {\n                            return;\n                        }\n                        resolved = true;\n                        resolve(response);\n                    } else {\n                        const data = JSON.parse(event.data);\n                        if (data?.error) {\n                            if (rejected) {\n                                return;\n                            }\n                            rejected = true;\n                            reject(data.error);\n                            return;\n                        }\n                        const message = data;\n                        // on the first message set the response properties\n                        if (!response) {\n                            response = {\n                                id: message.id,\n                                object: message.object,\n                                created: message.created,\n                                model: message.model,\n                                choices: []\n                            };\n                        }\n                        // on all messages, update choice\n                        for (const part of message.choices ?? []){\n                            if (part != null) {\n                                let choice = response.choices.find((c)=>c.index === part.index);\n                                if (!choice) {\n                                    choice = {\n                                        index: part.index,\n                                        finish_reason: part.finish_reason ?? undefined\n                                    };\n                                    response.choices[part.index] = choice;\n                                }\n                                if (!choice.message) {\n                                    choice.message = {\n                                        role: part.delta?.role,\n                                        content: \"\"\n                                    };\n                                }\n                                if (part.delta.function_call && !choice.message.function_call) {\n                                    choice.message.function_call = {\n                                        name: \"\",\n                                        arguments: \"\"\n                                    };\n                                }\n                                choice.message.content += part.delta?.content ?? \"\";\n                                if (choice.message.function_call) {\n                                    choice.message.function_call.name += part.delta?.function_call?.name ?? \"\";\n                                    choice.message.function_call.arguments += part.delta?.function_call?.arguments ?? \"\";\n                                }\n                                // TODO this should pass part.index to the callback\n                                // when that's supported there\n                                // eslint-disable-next-line no-void\n                                void runManager?.handleLLMNewToken(part.delta?.content ?? \"\");\n                            // TODO we don't currently have a callback method for\n                            // sending the function call arguments\n                            }\n                        }\n                        // when all messages are finished, resolve\n                        if (!resolved && !rejected && message.choices?.every((c)=>c.finish_reason != null)) {\n                            resolved = true;\n                            resolve(response);\n                        }\n                    }\n                }\n            }).catch((error)=>{\n                if (!rejected) {\n                    rejected = true;\n                    reject(error);\n                }\n            });\n        }) : await this.completionWithRetry({\n            ...params,\n            messages: messagesMapped\n        }, {\n            signal: options?.signal,\n            ...options?.options\n        });\n        const { completion_tokens: completionTokens , prompt_tokens: promptTokens , total_tokens: totalTokens  } = data.usage ?? {};\n        if (completionTokens) {\n            tokenUsage.completionTokens = (tokenUsage.completionTokens ?? 0) + completionTokens;\n        }\n        if (promptTokens) {\n            tokenUsage.promptTokens = (tokenUsage.promptTokens ?? 0) + promptTokens;\n        }\n        if (totalTokens) {\n            tokenUsage.totalTokens = (tokenUsage.totalTokens ?? 0) + totalTokens;\n        }\n        const generations = [];\n        for (const part of data.choices){\n            const text = part.message?.content ?? \"\";\n            generations.push({\n                text,\n                message: openAIResponseToChatMessage(part.message ?? {\n                    role: \"assistant\"\n                })\n            });\n        }\n        return {\n            generations,\n            llmOutput: {\n                tokenUsage\n            }\n        };\n    }\n    async getNumTokensFromMessages(messages) {\n        let totalCount = 0;\n        let tokensPerMessage = 0;\n        let tokensPerName = 0;\n        // From: https://github.com/openai/openai-cookbook/blob/main/examples/How_to_format_inputs_to_ChatGPT_models.ipynb\n        if ((0,_base_language_count_tokens_js__WEBPACK_IMPORTED_MODULE_5__.getModelNameForTiktoken)(this.modelName) === \"gpt-3.5-turbo\") {\n            tokensPerMessage = 4;\n            tokensPerName = -1;\n        } else if ((0,_base_language_count_tokens_js__WEBPACK_IMPORTED_MODULE_5__.getModelNameForTiktoken)(this.modelName).startsWith(\"gpt-4\")) {\n            tokensPerMessage = 3;\n            tokensPerName = 1;\n        }\n        const countPerMessage = await Promise.all(messages.map(async (message)=>{\n            const textCount = await this.getNumTokens(message.text);\n            const roleCount = await this.getNumTokens(messageTypeToOpenAIRole(message._getType()));\n            const nameCount = message.name !== undefined ? tokensPerName + await this.getNumTokens(message.name) : 0;\n            const count = textCount + tokensPerMessage + roleCount + nameCount;\n            totalCount += count;\n            return count;\n        }));\n        totalCount += 3; // every reply is primed with <|start|>assistant<|message|>\n        return {\n            totalCount,\n            countPerMessage\n        };\n    }\n    /** @ignore */ async completionWithRetry(request, options) {\n        if (!this.client) {\n            const endpoint = this.azureOpenAIApiKey ? `https://${this.azureOpenAIApiInstanceName}.openai.azure.com/openai/deployments/${this.azureOpenAIApiDeploymentName}` : this.clientConfig.basePath;\n            const clientConfig = new openai__WEBPACK_IMPORTED_MODULE_0__.Configuration({\n                ...this.clientConfig,\n                basePath: endpoint,\n                baseOptions: {\n                    timeout: this.timeout,\n                    ...this.clientConfig.baseOptions\n                }\n            });\n            this.client = new openai__WEBPACK_IMPORTED_MODULE_0__.OpenAIApi(clientConfig);\n        }\n        const axiosOptions = {\n            adapter: (0,_util_env_js__WEBPACK_IMPORTED_MODULE_1__.isNode)() ? undefined : _util_axios_fetch_adapter_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n            ...this.clientConfig.baseOptions,\n            ...options\n        };\n        if (this.azureOpenAIApiKey) {\n            axiosOptions.headers = {\n                \"api-key\": this.azureOpenAIApiKey,\n                ...axiosOptions.headers\n            };\n            axiosOptions.params = {\n                \"api-version\": this.azureOpenAIApiVersion,\n                ...axiosOptions.params\n            };\n        }\n        return this.caller.call(this.client.createChatCompletion.bind(this.client), request, axiosOptions).then((res)=>res.data);\n    }\n    _llmType() {\n        return \"openai\";\n    }\n    /** @ignore */ _combineLLMOutput(...llmOutputs) {\n        return llmOutputs.reduce((acc, llmOutput)=>{\n            if (llmOutput && llmOutput.tokenUsage) {\n                acc.tokenUsage.completionTokens += llmOutput.tokenUsage.completionTokens ?? 0;\n                acc.tokenUsage.promptTokens += llmOutput.tokenUsage.promptTokens ?? 0;\n                acc.tokenUsage.totalTokens += llmOutput.tokenUsage.totalTokens ?? 0;\n            }\n            return acc;\n        }, {\n            tokenUsage: {\n                completionTokens: 0,\n                promptTokens: 0,\n                totalTokens: 0\n            }\n        });\n    }\n}\nclass PromptLayerChatOpenAI extends ChatOpenAI {\n    constructor(fields){\n        super(fields);\n        Object.defineProperty(this, \"promptLayerApiKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"plTags\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"returnPromptLayerId\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.promptLayerApiKey = fields?.promptLayerApiKey ?? (typeof process !== \"undefined\" ? process.env?.PROMPTLAYER_API_KEY : undefined);\n        this.plTags = fields?.plTags ?? [];\n        this.returnPromptLayerId = fields?.returnPromptLayerId ?? false;\n    }\n    async _generate(messages, options, runManager) {\n        const requestStartTime = Date.now();\n        let parsedOptions;\n        if (Array.isArray(options)) {\n            parsedOptions = {\n                stop: options\n            };\n        } else if (options?.timeout && !options.signal) {\n            parsedOptions = {\n                ...options,\n                signal: AbortSignal.timeout(options.timeout)\n            };\n        } else {\n            parsedOptions = options ?? {};\n        }\n        const generatedResponses = await super._generate(messages, parsedOptions, runManager);\n        const requestEndTime = Date.now();\n        const _convertMessageToDict = (message)=>{\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            let messageDict;\n            if (message._getType() === \"human\") {\n                messageDict = {\n                    role: \"user\",\n                    content: message.text\n                };\n            } else if (message._getType() === \"ai\") {\n                messageDict = {\n                    role: \"assistant\",\n                    content: message.text\n                };\n            } else if (message._getType() === \"system\") {\n                messageDict = {\n                    role: \"system\",\n                    content: message.text\n                };\n            } else if (message._getType() === \"generic\") {\n                messageDict = {\n                    role: message.role,\n                    content: message.text\n                };\n            } else {\n                throw new Error(`Got unknown type ${message}`);\n            }\n            return messageDict;\n        };\n        const _createMessageDicts = (messages, callOptions)=>{\n            const params = {\n                ...this.invocationParams(),\n                model: this.modelName\n            };\n            if (callOptions?.stop) {\n                if (Object.keys(params).includes(\"stop\")) {\n                    throw new Error(\"`stop` found in both the input and default params.\");\n                }\n            }\n            const messageDicts = messages.map((message)=>_convertMessageToDict(message));\n            return messageDicts;\n        };\n        for(let i = 0; i < generatedResponses.generations.length; i += 1){\n            const generation = generatedResponses.generations[i];\n            const messageDicts = _createMessageDicts(messages, parsedOptions);\n            let promptLayerRequestId;\n            const parsedResp = [\n                {\n                    content: generation.text,\n                    role: messageTypeToOpenAIRole(generation.message._getType())\n                }\n            ];\n            const promptLayerRespBody = await (0,_util_prompt_layer_js__WEBPACK_IMPORTED_MODULE_6__.promptLayerTrackRequest)(this.caller, \"langchain.PromptLayerChatOpenAI\", messageDicts, this._identifyingParams(), this.plTags, parsedResp, requestStartTime, requestEndTime, this.promptLayerApiKey);\n            if (this.returnPromptLayerId === true) {\n                if (promptLayerRespBody.success === true) {\n                    promptLayerRequestId = promptLayerRespBody.request_id;\n                }\n                if (!generation.generationInfo || typeof generation.generationInfo !== \"object\") {\n                    generation.generationInfo = {};\n                }\n                generation.generationInfo.promptLayerRequestId = promptLayerRequestId;\n            }\n        }\n        return generatedResponses;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNjX3NlcnZlcikvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhdF9tb2RlbHMvb3BlbmFpLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBbUQ7QUFDYTtBQUNOO0FBQ2hCO0FBQzREO0FBQzNCO0FBQ1Q7QUFDSztBQUN2RSxTQUFTYSx3QkFBd0JDLElBQUk7SUFDakMsT0FBUUE7UUFDSixLQUFLO1lBQ0QsT0FBTztRQUNYLEtBQUs7WUFDRCxPQUFPO1FBQ1gsS0FBSztZQUNELE9BQU87UUFDWCxLQUFLO1lBQ0QsT0FBTztRQUNYO1lBQ0ksTUFBTSxJQUFJQyxNQUFNLENBQUMsc0JBQXNCLEVBQUVELEtBQUssQ0FBQztJQUN2RDtBQUNKO0FBQ0EsU0FBU0UsNEJBQTRCQyxPQUFPO0lBQ3hDLE9BQVFBLFFBQVFDO1FBQ1osS0FBSztZQUNELE9BQU8sSUFBSVYsOERBQWdCQSxDQUFDUyxRQUFRRSxXQUFXO1FBQ25ELEtBQUs7WUFDRCxPQUFPLElBQUliLDJEQUFhQSxDQUFDVyxRQUFRRSxXQUFXLElBQUk7Z0JBQzVDQyxlQUFlSCxRQUFRRztZQUMzQjtRQUNKLEtBQUs7WUFDRCxPQUFPLElBQUlYLCtEQUFpQkEsQ0FBQ1EsUUFBUUUsV0FBVztRQUNwRDtZQUNJLE9BQU8sSUFBSVoseURBQVdBLENBQUNVLFFBQVFFLFdBQVcsSUFBSUYsUUFBUUMsUUFBUTtJQUN0RTtBQUNKO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBaUJDLEdBQ00sTUFBTUcsbUJBQW1CaEIsbURBQWFBO0lBQ3pDLElBQUlpQixXQUFXO1FBQ1gsT0FBTztZQUFDO1lBQVE7WUFBVTtZQUFXO1lBQVc7WUFBYTtTQUFRO0lBQ3pFO0lBQ0EsSUFBSUMsYUFBYTtRQUNiLE9BQU87WUFDSEMsY0FBYztZQUNkQyxtQkFBbUI7UUFDdkI7SUFDSjtJQUNBLElBQUlDLGFBQWE7UUFDYixPQUFPO1lBQ0hDLFdBQVc7WUFDWEgsY0FBYztZQUNkSSx1QkFBdUI7WUFDdkJILG1CQUFtQjtZQUNu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QVM7b0JBQ3RDLE1BQU0sSUFBSTVKLE1BQU07Z0JBQ3BCO1lBQ0o7WUFDQSxNQUFNNkosZUFBZTFHLFNBQVNPLElBQUksQ0FBQ3hELFVBQVlxSixzQkFBc0JySjtZQUNyRSxPQUFPMko7UUFDWDtRQUNBLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJVCxtQkFBbUIvQyxZQUFZeUQsUUFBUUQsS0FBSyxFQUFHO1lBQy9ELE1BQU1FLGFBQWFYLG1CQUFtQi9DLFdBQVcsQ0FBQ3dELEVBQUU7WUFDcEQsTUFBTUQsZUFBZUosb0JBQW9CdEcsVUFBVThGO1lBQ25ELElBQUlnQjtZQUNKLE1BQU1DLGFBQWE7Z0JBQ2Y7b0JBQ0k5SixTQUFTNEosV0FBV25HO29CQUNwQjFELE1BQU1MLHdCQUF3QmtLLFdBQVc5SixRQUFRMEQ7Z0JBQ3JEO2FBQ0g7WUFDRCxNQUFNdUcsc0JBQXNCLE1BQU12Syw4RUFBdUJBLENBQUMsSUFBSSxDQUFDZ0ksUUFBUSxtQ0FBbUNpQyxjQUFjLElBQUksQ0FBQzlHLHNCQUFzQixJQUFJLENBQUM2RixRQUFRc0IsWUFBWXBCLGtCQUFrQlEsZ0JBQWdCLElBQUksQ0FBQ2Q7WUFDbk4sSUFBSSxJQUFJLENBQUNLLHdCQUF3QixNQUFNO2dCQUNuQyxJQUFJc0Isb0JBQW9CQyxZQUFZLE1BQU07b0JBQ3RDSCx1QkFBdUJFLG9CQUFvQkU7Z0JBQy9DO2dCQUNBLElBQUksQ0FBQ0wsV0FBV00sa0JBQ1osT0FBT04sV0FBV00sbUJBQW1CLFVBQVU7b0JBQy9DTixXQUFXTSxpQkFBaUIsQ0FBQztnQkFDakM7Z0JBQ0FOLFdBQVdNLGVBQWVMLHVCQUF1QkE7WUFDckQ7UUFDSjtRQUNBLE9BQU9aO0lBQ1g7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL21vb2QvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhdF9tb2RlbHMvb3BlbmFpLmpzP2YyOTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uZmlndXJhdGlvbiwgT3BlbkFJQXBpLCB9IGZyb20gXCJvcGVuYWlcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUsIGlzTm9kZSB9IGZyb20gXCIuLi91dGlsL2Vudi5qc1wiO1xuaW1wb3J0IGZldGNoQWRhcHRlciBmcm9tIFwiLi4vdXRpbC9heGlvcy1mZXRjaC1hZGFwdGVyLmpzXCI7XG5pbXBvcnQgeyBCYXNlQ2hhdE1vZGVsIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgQUlDaGF0TWVzc2FnZSwgQ2hhdE1lc3NhZ2UsIEh1bWFuQ2hhdE1lc3NhZ2UsIFN5c3RlbUNoYXRNZXNzYWdlLCB9IGZyb20gXCIuLi9zY2hlbWEvaW5kZXguanNcIjtcbmltcG9ydCB7IGdldE1vZGVsTmFtZUZvclRpa3Rva2VuIH0gZnJvbSBcIi4uL2Jhc2VfbGFuZ3VhZ2UvY291bnRfdG9rZW5zLmpzXCI7XG5pbXBvcnQgeyBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCB9IGZyb20gXCIuLi91dGlsL3Byb21wdC1sYXllci5qc1wiO1xuaW1wb3J0IHsgZm9ybWF0VG9PcGVuQUlGdW5jdGlvbiB9IGZyb20gXCIuLi90b29scy9jb252ZXJ0X3RvX29wZW5haS5qc1wiO1xuZnVuY3Rpb24gbWVzc2FnZVR5cGVUb09wZW5BSVJvbGUodHlwZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwic3lzdGVtXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJzeXN0ZW1cIjtcbiAgICAgICAgY2FzZSBcImFpXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJhc3Npc3RhbnRcIjtcbiAgICAgICAgY2FzZSBcImh1bWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJ1c2VyXCI7XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBtZXNzYWdlIHR5cGU6ICR7dHlwZX1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBvcGVuQUlSZXNwb25zZVRvQ2hhdE1lc3NhZ2UobWVzc2FnZSkge1xuICAgIHN3aXRjaCAobWVzc2FnZS5yb2xlKSB7XG4gICAgICAgIGNhc2UgXCJ1c2VyXCI6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEh1bWFuQ2hhdE1lc3NhZ2UobWVzc2FnZS5jb250ZW50IHx8IFwiXCIpO1xuICAgICAgICBjYXNlIFwiYXNzaXN0YW50XCI6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFJQ2hhdE1lc3NhZ2UobWVzc2FnZS5jb250ZW50IHx8IFwiXCIsIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbl9jYWxsOiBtZXNzYWdlLmZ1bmN0aW9uX2NhbGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgY2FzZSBcInN5c3RlbVwiOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTeXN0ZW1DaGF0TWVzc2FnZShtZXNzYWdlLmNvbnRlbnQgfHwgXCJcIik7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IENoYXRNZXNzYWdlKG1lc3NhZ2UuY29udGVudCB8fCBcIlwiLCBtZXNzYWdlLnJvbGUgPz8gXCJ1bmtub3duXCIpO1xuICAgIH1cbn1cbi8qKlxuICogV3JhcHBlciBhcm91bmQgT3BlbkFJIGxhcmdlIGxhbmd1YWdlIG1vZGVscyB0aGF0IHVzZSB0aGUgQ2hhdCBlbmRwb2ludC5cbiAqXG4gKiBUbyB1c2UgeW91IHNob3VsZCBoYXZlIHRoZSBgb3BlbmFpYCBwYWNrYWdlIGluc3RhbGxlZCwgd2l0aCB0aGVcbiAqIGBPUEVOQUlfQVBJX0tFWWAgZW52aXJvbm1lbnQgdmFyaWFibGUgc2V0LlxuICpcbiAqIFRvIHVzZSB3aXRoIEF6dXJlIHlvdSBzaG91bGQgaGF2ZSB0aGUgYG9wZW5haWAgcGFja2FnZSBpbnN0YWxsZWQsIHdpdGggdGhlXG4gKiBgQVpVUkVfT1BFTkFJX0FQSV9LRVlgLFxuICogYEFaVVJFX09QRU5BSV9BUElfSU5TVEFOQ0VfTkFNRWAsXG4gKiBgQVpVUkVfT1BFTkFJX0FQSV9ERVBMT1lNRU5UX05BTUVgXG4gKiBhbmQgYEFaVVJFX09QRU5BSV9BUElfVkVSU0lPTmAgZW52aXJvbm1lbnQgdmFyaWFibGUgc2V0LlxuICpcbiAqIEByZW1hcmtzXG4gKiBBbnkgcGFyYW1ldGVycyB0aGF0IGFyZSB2YWxpZCB0byBiZSBwYXNzZWQgdG8ge0BsaW5rXG4gKiBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2NoYXQvY3JlYXRlIHxcbiAqIGBvcGVuYWkuY3JlYXRlQ29tcGxldGlvbmB9IGNhbiBiZSBwYXNzZWQgdGhyb3VnaCB7QGxpbmsgbW9kZWxLd2FyZ3N9LCBldmVuXG4gKiBpZiBub3QgZXhwbGljaXRseSBhdmFpbGFibGUgb24gdGhpcyBjbGFzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIENoYXRPcGVuQUkgZXh0ZW5kcyBCYXNlQ2hhdE1vZGVsIHtcbiAgICBnZXQgY2FsbEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbXCJzdG9wXCIsIFwic2lnbmFsXCIsIFwidGltZW91dFwiLCBcIm9wdGlvbnNcIiwgXCJmdW5jdGlvbnNcIiwgXCJ0b29sc1wiXTtcbiAgICB9XG4gICAgZ2V0IGxjX3NlY3JldHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcGVuQUlBcGlLZXk6IFwiT1BFTkFJX0FQSV9LRVlcIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpS2V5OiBcIkFaVVJFX09QRU5BSV9BUElfS0VZXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldCBsY19hbGlhc2VzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWxOYW1lOiBcIm1vZGVsXCIsXG4gICAgICAgICAgICBvcGVuQUlBcGlLZXk6IFwib3BlbmFpX2FwaV9rZXlcIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpVmVyc2lvbjogXCJhenVyZV9vcGVuYWlfYXBpX3ZlcnNpb25cIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpS2V5OiBcImF6dXJlX29wZW5haV9hcGlfa2V5XCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZTogXCJhenVyZV9vcGVuYWlfYXBpX2luc3RhbmNlX25hbWVcIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU6IFwiYXp1cmVfb3BlbmFpX2FwaV9kZXBsb3ltZW50X25hbWVcIixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzLCBcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyA/PyB7fSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGVtcGVyYXR1cmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvcFBcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZyZXF1ZW5jeVBlbmFsdHlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByZXNlbmNlUGVuYWx0eVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibG9naXRCaWFzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1vZGVsTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJncHQtMy41LXR1cmJvXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1vZGVsS3dhcmdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3BcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGltZW91dFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHJlYW1pbmdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhUb2tlbnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3BlbkFJQXBpS2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpVmVyc2lvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUFwaUtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRDb25maWdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vcGVuQUlBcGlLZXkgPVxuICAgICAgICAgICAgZmllbGRzPy5vcGVuQUlBcGlLZXkgPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIk9QRU5BSV9BUElfS0VZXCIpO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5ID1cbiAgICAgICAgICAgIGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlLZXkgPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9LRVlcIik7XG4gICAgICAgIGlmICghdGhpcy5henVyZU9wZW5BSUFwaUtleSAmJiAhdGhpcy5vcGVuQUlBcGlLZXkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIihBenVyZSkgT3BlbkFJIEFQSSBrZXkgbm90IGZvdW5kXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVcIik7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSA9XG4gICAgICAgICAgICBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUgPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9ERVBMT1lNRU5UX05BTUVcIik7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uID1cbiAgICAgICAgICAgIGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlWZXJzaW9uID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfVkVSU0lPTlwiKTtcbiAgICAgICAgdGhpcy5tb2RlbE5hbWUgPSBmaWVsZHM/Lm1vZGVsTmFtZSA/PyB0aGlzLm1vZGVsTmFtZTtcbiAgICAgICAgdGhpcy5tb2RlbEt3YXJncyA9IGZpZWxkcz8ubW9kZWxLd2FyZ3MgPz8ge307XG4gICAgICAgIHRoaXMudGltZW91dCA9IGZpZWxkcz8udGltZW91dDtcbiAgICAgICAgdGhpcy50ZW1wZXJhdHVyZSA9IGZpZWxkcz8udGVtcGVyYXR1cmUgPz8gdGhpcy50ZW1wZXJhdHVyZTtcbiAgICAgICAgdGhpcy50b3BQID0gZmllbGRzPy50b3BQID8/IHRoaXMudG9wUDtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3lQZW5hbHR5ID0gZmllbGRzPy5mcmVxdWVuY3lQZW5hbHR5ID8/IHRoaXMuZnJlcXVlbmN5UGVuYWx0eTtcbiAgICAgICAgdGhpcy5wcmVzZW5jZVBlbmFsdHkgPSBmaWVsZHM/LnByZXNlbmNlUGVuYWx0eSA/PyB0aGlzLnByZXNlbmNlUGVuYWx0eTtcbiAgICAgICAgdGhpcy5tYXhUb2tlbnMgPSBmaWVsZHM/Lm1heFRva2VucztcbiAgICAgICAgdGhpcy5uID0gZmllbGRzPy5uID8/IHRoaXMubjtcbiAgICAgICAgdGhpcy5sb2dpdEJpYXMgPSBmaWVsZHM/LmxvZ2l0QmlhcztcbiAgICAgICAgdGhpcy5zdG9wID0gZmllbGRzPy5zdG9wO1xuICAgICAgICB0aGlzLnN0cmVhbWluZyA9IGZpZWxkcz8uc3RyZWFtaW5nID8/IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5zdHJlYW1pbmcgJiYgdGhpcy5uID4gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHN0cmVhbSByZXN1bHRzIHdoZW4gbiA+IDFcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXp1cmVPcGVuQUlBcGlLZXkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF6dXJlIE9wZW5BSSBBUEkgaW5zdGFuY2UgbmFtZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF6dXJlIE9wZW5BSSBBUEkgZGVwbG95bWVudCBuYW1lIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIHZlcnNpb24gbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xpZW50Q29uZmlnID0ge1xuICAgICAgICAgICAgYXBpS2V5OiB0aGlzLm9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgIC4uLmNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAuLi5maWVsZHM/LmNvbmZpZ3VyYXRpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGFyYW1ldGVycyB1c2VkIHRvIGludm9rZSB0aGUgbW9kZWxcbiAgICAgKi9cbiAgICBpbnZvY2F0aW9uUGFyYW1zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWw6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgdGVtcGVyYXR1cmU6IHRoaXMudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICB0b3BfcDogdGhpcy50b3BQLFxuICAgICAgICAgICAgZnJlcXVlbmN5X3BlbmFsdHk6IHRoaXMuZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgICAgICAgIHByZXNlbmNlX3BlbmFsdHk6IHRoaXMucHJlc2VuY2VQZW5hbHR5LFxuICAgICAgICAgICAgbWF4X3Rva2VuczogdGhpcy5tYXhUb2tlbnMgPT09IC0xID8gdW5kZWZpbmVkIDogdGhpcy5tYXhUb2tlbnMsXG4gICAgICAgICAgICBuOiB0aGlzLm4sXG4gICAgICAgICAgICBsb2dpdF9iaWFzOiB0aGlzLmxvZ2l0QmlhcyxcbiAgICAgICAgICAgIHN0b3A6IHRoaXMuc3RvcCxcbiAgICAgICAgICAgIHN0cmVhbTogdGhpcy5zdHJlYW1pbmcsXG4gICAgICAgICAgICAuLi50aGlzLm1vZGVsS3dhcmdzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIF9pZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsX25hbWU6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgLi4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKCksXG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpZGVudGlmeWluZyBwYXJhbWV0ZXJzIGZvciB0aGUgbW9kZWxcbiAgICAgKi9cbiAgICBpZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkZW50aWZ5aW5nUGFyYW1zKCk7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2dlbmVyYXRlKG1lc3NhZ2VzLCBvcHRpb25zLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IHRva2VuVXNhZ2UgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuc3RvcCAmJiBvcHRpb25zPy5zdG9wKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdG9wIGZvdW5kIGluIGlucHV0IGFuZCBkZWZhdWx0IHBhcmFtc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJhbXMgPSB0aGlzLmludm9jYXRpb25QYXJhbXMoKTtcbiAgICAgICAgcGFyYW1zLnN0b3AgPSBvcHRpb25zPy5zdG9wID8/IHBhcmFtcy5zdG9wO1xuICAgICAgICBwYXJhbXMuZnVuY3Rpb25zID1cbiAgICAgICAgICAgIG9wdGlvbnM/LmZ1bmN0aW9ucyA/P1xuICAgICAgICAgICAgICAgIChvcHRpb25zPy50b29scyA/IG9wdGlvbnM/LnRvb2xzLm1hcChmb3JtYXRUb09wZW5BSUZ1bmN0aW9uKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHBhcmFtcy5mdW5jdGlvbl9jYWxsID0gb3B0aW9ucz8uZnVuY3Rpb25fY2FsbDtcbiAgICAgICAgY29uc3QgbWVzc2FnZXNNYXBwZWQgPSBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+ICh7XG4gICAgICAgICAgICByb2xlOiBtZXNzYWdlVHlwZVRvT3BlbkFJUm9sZShtZXNzYWdlLl9nZXRUeXBlKCkpLFxuICAgICAgICAgICAgY29udGVudDogbWVzc2FnZS50ZXh0LFxuICAgICAgICAgICAgbmFtZTogbWVzc2FnZS5uYW1lLFxuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBwYXJhbXMuc3RyZWFtXG4gICAgICAgICAgICA/IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgbGV0IHJlamVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbGV0IHJlc29sdmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0aW9uV2l0aFJldHJ5KHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlczogbWVzc2FnZXNNYXBwZWQsXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBzaWduYWw6IG9wdGlvbnM/LnNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucz8ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgYWRhcHRlcjogZmV0Y2hBZGFwdGVyLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6IFwic3RyZWFtXCIsXG4gICAgICAgICAgICAgICAgICAgIG9ubWVzc2FnZTogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YT8udHJpbT8uKCkgPT09IFwiW0RPTkVdXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZWQgfHwgcmVqZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YT8uZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZGF0YS5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gdGhlIGZpcnN0IG1lc3NhZ2Ugc2V0IHRoZSByZXNwb25zZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiBtZXNzYWdlLm9iamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IG1lc3NhZ2UuY3JlYXRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiBtZXNzYWdlLm1vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uIGFsbCBtZXNzYWdlcywgdXBkYXRlIGNob2ljZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBtZXNzYWdlLmNob2ljZXMgPz8gW10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNob2ljZSA9IHJlc3BvbnNlLmNob2ljZXMuZmluZCgoYykgPT4gYy5pbmRleCA9PT0gcGFydC5pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNob2ljZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHBhcnQuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaF9yZWFzb246IHBhcnQuZmluaXNoX3JlYXNvbiA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5jaG9pY2VzW3BhcnQuaW5kZXhdID0gY2hvaWNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaG9pY2UubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiBwYXJ0LmRlbHRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/LnJvbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LmRlbHRhLmZ1bmN0aW9uX2NhbGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhY2hvaWNlLm1lc3NhZ2UuZnVuY3Rpb25fY2FsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlLm1lc3NhZ2UuY29udGVudCArPSBwYXJ0LmRlbHRhPy5jb250ZW50ID8/IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hvaWNlLm1lc3NhZ2UuZnVuY3Rpb25fY2FsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwubmFtZSArPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0LmRlbHRhPy5mdW5jdGlvbl9jYWxsPy5uYW1lID8/IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlLm1lc3NhZ2UuZnVuY3Rpb25fY2FsbC5hcmd1bWVudHMgKz1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydC5kZWx0YT8uZnVuY3Rpb25fY2FsbD8uYXJndW1lbnRzID8/IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIHRoaXMgc2hvdWxkIHBhc3MgcGFydC5pbmRleCB0byB0aGUgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhhdCdzIHN1cHBvcnRlZCB0aGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZvaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgcnVuTWFuYWdlcj8uaGFuZGxlTExNTmV3VG9rZW4ocGFydC5kZWx0YT8uY29udGVudCA/PyBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gd2UgZG9uJ3QgY3VycmVudGx5IGhhdmUgYSBjYWxsYmFjayBtZXRob2QgZm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZW5kaW5nIHRoZSBmdW5jdGlvbiBjYWxsIGFyZ3VtZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gYWxsIG1lc3NhZ2VzIGFyZSBmaW5pc2hlZCwgcmVzb2x2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzb2x2ZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXJlamVjdGVkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2hvaWNlcz8uZXZlcnkoKGMpID0+IGMuZmluaXNoX3JlYXNvbiAhPSBudWxsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWplY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogYXdhaXQgdGhpcy5jb21wbGV0aW9uV2l0aFJldHJ5KHtcbiAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IG1lc3NhZ2VzTWFwcGVkLFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHNpZ25hbDogb3B0aW9ucz8uc2lnbmFsLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnM/Lm9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgeyBjb21wbGV0aW9uX3Rva2VuczogY29tcGxldGlvblRva2VucywgcHJvbXB0X3Rva2VuczogcHJvbXB0VG9rZW5zLCB0b3RhbF90b2tlbnM6IHRvdGFsVG9rZW5zLCB9ID0gZGF0YS51c2FnZSA/PyB7fTtcbiAgICAgICAgaWYgKGNvbXBsZXRpb25Ub2tlbnMpIHtcbiAgICAgICAgICAgIHRva2VuVXNhZ2UuY29tcGxldGlvblRva2VucyA9XG4gICAgICAgICAgICAgICAgKHRva2VuVXNhZ2UuY29tcGxldGlvblRva2VucyA/PyAwKSArIGNvbXBsZXRpb25Ub2tlbnM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb21wdFRva2Vucykge1xuICAgICAgICAgICAgdG9rZW5Vc2FnZS5wcm9tcHRUb2tlbnMgPSAodG9rZW5Vc2FnZS5wcm9tcHRUb2tlbnMgPz8gMCkgKyBwcm9tcHRUb2tlbnM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvdGFsVG9rZW5zKSB7XG4gICAgICAgICAgICB0b2tlblVzYWdlLnRvdGFsVG9rZW5zID0gKHRva2VuVXNhZ2UudG90YWxUb2tlbnMgPz8gMCkgKyB0b3RhbFRva2VucztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBnZW5lcmF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgZGF0YS5jaG9pY2VzKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gcGFydC5tZXNzYWdlPy5jb250ZW50ID8/IFwiXCI7XG4gICAgICAgICAgICBnZW5lcmF0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wZW5BSVJlc3BvbnNlVG9DaGF0TWVzc2FnZShwYXJ0Lm1lc3NhZ2UgPz8geyByb2xlOiBcImFzc2lzdGFudFwiIH0pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdlbmVyYXRpb25zLFxuICAgICAgICAgICAgbGxtT3V0cHV0OiB7IHRva2VuVXNhZ2UgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0TnVtVG9rZW5zRnJvbU1lc3NhZ2VzKG1lc3NhZ2VzKSB7XG4gICAgICAgIGxldCB0b3RhbENvdW50ID0gMDtcbiAgICAgICAgbGV0IHRva2Vuc1Blck1lc3NhZ2UgPSAwO1xuICAgICAgICBsZXQgdG9rZW5zUGVyTmFtZSA9IDA7XG4gICAgICAgIC8vIEZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9vcGVuYWkvb3BlbmFpLWNvb2tib29rL2Jsb2IvbWFpbi9leGFtcGxlcy9Ib3dfdG9fZm9ybWF0X2lucHV0c190b19DaGF0R1BUX21vZGVscy5pcHluYlxuICAgICAgICBpZiAoZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4odGhpcy5tb2RlbE5hbWUpID09PSBcImdwdC0zLjUtdHVyYm9cIikge1xuICAgICAgICAgICAgdG9rZW5zUGVyTWVzc2FnZSA9IDQ7XG4gICAgICAgICAgICB0b2tlbnNQZXJOYW1lID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4odGhpcy5tb2RlbE5hbWUpLnN0YXJ0c1dpdGgoXCJncHQtNFwiKSkge1xuICAgICAgICAgICAgdG9rZW5zUGVyTWVzc2FnZSA9IDM7XG4gICAgICAgICAgICB0b2tlbnNQZXJOYW1lID0gMTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb3VudFBlck1lc3NhZ2UgPSBhd2FpdCBQcm9taXNlLmFsbChtZXNzYWdlcy5tYXAoYXN5bmMgKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRleHRDb3VudCA9IGF3YWl0IHRoaXMuZ2V0TnVtVG9rZW5zKG1lc3NhZ2UudGV4dCk7XG4gICAgICAgICAgICBjb25zdCByb2xlQ291bnQgPSBhd2FpdCB0aGlzLmdldE51bVRva2VucyhtZXNzYWdlVHlwZVRvT3BlbkFJUm9sZShtZXNzYWdlLl9nZXRUeXBlKCkpKTtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVDb3VudCA9IG1lc3NhZ2UubmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyB0b2tlbnNQZXJOYW1lICsgKGF3YWl0IHRoaXMuZ2V0TnVtVG9rZW5zKG1lc3NhZ2UubmFtZSkpXG4gICAgICAgICAgICAgICAgOiAwO1xuICAgICAgICAgICAgY29uc3QgY291bnQgPSB0ZXh0Q291bnQgKyB0b2tlbnNQZXJNZXNzYWdlICsgcm9sZUNvdW50ICsgbmFtZUNvdW50O1xuICAgICAgICAgICAgdG90YWxDb3VudCArPSBjb3VudDtcbiAgICAgICAgICAgIHJldHVybiBjb3VudDtcbiAgICAgICAgfSkpO1xuICAgICAgICB0b3RhbENvdW50ICs9IDM7IC8vIGV2ZXJ5IHJlcGx5IGlzIHByaW1lZCB3aXRoIDx8c3RhcnR8PmFzc2lzdGFudDx8bWVzc2FnZXw+XG4gICAgICAgIHJldHVybiB7IHRvdGFsQ291bnQsIGNvdW50UGVyTWVzc2FnZSB9O1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIGNvbXBsZXRpb25XaXRoUmV0cnkocmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuY2xpZW50KSB7XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IHRoaXMuYXp1cmVPcGVuQUlBcGlLZXlcbiAgICAgICAgICAgICAgICA/IGBodHRwczovLyR7dGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZX0ub3BlbmFpLmF6dXJlLmNvbS9vcGVuYWkvZGVwbG95bWVudHMvJHt0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWV9YFxuICAgICAgICAgICAgICAgIDogdGhpcy5jbGllbnRDb25maWcuYmFzZVBhdGg7XG4gICAgICAgICAgICBjb25zdCBjbGllbnRDb25maWcgPSBuZXcgQ29uZmlndXJhdGlvbih7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5jbGllbnRDb25maWcsXG4gICAgICAgICAgICAgICAgYmFzZVBhdGg6IGVuZHBvaW50LFxuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IHRoaXMudGltZW91dCxcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5jbGllbnRDb25maWcuYmFzZU9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgT3BlbkFJQXBpKGNsaWVudENvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXhpb3NPcHRpb25zID0ge1xuICAgICAgICAgICAgYWRhcHRlcjogaXNOb2RlKCkgPyB1bmRlZmluZWQgOiBmZXRjaEFkYXB0ZXIsXG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZy5iYXNlT3B0aW9ucyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmF6dXJlT3BlbkFJQXBpS2V5KSB7XG4gICAgICAgICAgICBheGlvc09wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICAgICAgICBcImFwaS1rZXlcIjogdGhpcy5henVyZU9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgICAgICAuLi5heGlvc09wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBheGlvc09wdGlvbnMucGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIFwiYXBpLXZlcnNpb25cIjogdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24sXG4gICAgICAgICAgICAgICAgLi4uYXhpb3NPcHRpb25zLnBhcmFtcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbGVyXG4gICAgICAgICAgICAuY2FsbCh0aGlzLmNsaWVudC5jcmVhdGVDaGF0Q29tcGxldGlvbi5iaW5kKHRoaXMuY2xpZW50KSwgcmVxdWVzdCwgYXhpb3NPcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmRhdGEpO1xuICAgIH1cbiAgICBfbGxtVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwib3BlbmFpXCI7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgX2NvbWJpbmVMTE1PdXRwdXQoLi4ubGxtT3V0cHV0cykge1xuICAgICAgICByZXR1cm4gbGxtT3V0cHV0cy5yZWR1Y2UoKGFjYywgbGxtT3V0cHV0KSA9PiB7XG4gICAgICAgICAgICBpZiAobGxtT3V0cHV0ICYmIGxsbU91dHB1dC50b2tlblVzYWdlKSB7XG4gICAgICAgICAgICAgICAgYWNjLnRva2VuVXNhZ2UuY29tcGxldGlvblRva2VucyArPVxuICAgICAgICAgICAgICAgICAgICBsbG1PdXRwdXQudG9rZW5Vc2FnZS5jb21wbGV0aW9uVG9rZW5zID8/IDA7XG4gICAgICAgICAgICAgICAgYWNjLnRva2VuVXNhZ2UucHJvbXB0VG9rZW5zICs9IGxsbU91dHB1dC50b2tlblVzYWdlLnByb21wdFRva2VucyA/PyAwO1xuICAgICAgICAgICAgICAgIGFjYy50b2tlblVzYWdlLnRvdGFsVG9rZW5zICs9IGxsbU91dHB1dC50b2tlblVzYWdlLnRvdGFsVG9rZW5zID8/IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0b2tlblVzYWdlOiB7XG4gICAgICAgICAgICAgICAgY29tcGxldGlvblRva2VuczogMCxcbiAgICAgICAgICAgICAgICBwcm9tcHRUb2tlbnM6IDAsXG4gICAgICAgICAgICAgICAgdG90YWxUb2tlbnM6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUHJvbXB0TGF5ZXJDaGF0T3BlbkFJIGV4dGVuZHMgQ2hhdE9wZW5BSSB7XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByb21wdExheWVyQXBpS2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBsVGFnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXR1cm5Qcm9tcHRMYXllcklkXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucHJvbXB0TGF5ZXJBcGlLZXkgPVxuICAgICAgICAgICAgZmllbGRzPy5wcm9tcHRMYXllckFwaUtleSA/P1xuICAgICAgICAgICAgICAgICh0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgICAgICAgICA/IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm9jZXNzLWVudlxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnY/LlBST01QVExBWUVSX0FQSV9LRVlcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICB0aGlzLnBsVGFncyA9IGZpZWxkcz8ucGxUYWdzID8/IFtdO1xuICAgICAgICB0aGlzLnJldHVyblByb21wdExheWVySWQgPSBmaWVsZHM/LnJldHVyblByb21wdExheWVySWQgPz8gZmFsc2U7XG4gICAgfVxuICAgIGFzeW5jIF9nZW5lcmF0ZShtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCByZXF1ZXN0U3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgbGV0IHBhcnNlZE9wdGlvbnM7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBwYXJzZWRPcHRpb25zID0geyBzdG9wOiBvcHRpb25zIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucz8udGltZW91dCAmJiAhb3B0aW9ucy5zaWduYWwpIHtcbiAgICAgICAgICAgIHBhcnNlZE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQob3B0aW9ucy50aW1lb3V0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJzZWRPcHRpb25zID0gb3B0aW9ucyA/PyB7fTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBnZW5lcmF0ZWRSZXNwb25zZXMgPSBhd2FpdCBzdXBlci5fZ2VuZXJhdGUobWVzc2FnZXMsIHBhcnNlZE9wdGlvbnMsIHJ1bk1hbmFnZXIpO1xuICAgICAgICBjb25zdCByZXF1ZXN0RW5kVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IF9jb252ZXJ0TWVzc2FnZVRvRGljdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgbGV0IG1lc3NhZ2VEaWN0O1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuX2dldFR5cGUoKSA9PT0gXCJodW1hblwiKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZURpY3QgPSB7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBtZXNzYWdlLnRleHQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1lc3NhZ2UuX2dldFR5cGUoKSA9PT0gXCJhaVwiKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZURpY3QgPSB7IHJvbGU6IFwiYXNzaXN0YW50XCIsIGNvbnRlbnQ6IG1lc3NhZ2UudGV4dCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWVzc2FnZS5fZ2V0VHlwZSgpID09PSBcInN5c3RlbVwiKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZURpY3QgPSB7IHJvbGU6IFwic3lzdGVtXCIsIGNvbnRlbnQ6IG1lc3NhZ2UudGV4dCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWVzc2FnZS5fZ2V0VHlwZSgpID09PSBcImdlbmVyaWNcIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VEaWN0ID0ge1xuICAgICAgICAgICAgICAgICAgICByb2xlOiBtZXNzYWdlLnJvbGUsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UudGV4dCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBHb3QgdW5rbm93biB0eXBlICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlRGljdDtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgX2NyZWF0ZU1lc3NhZ2VEaWN0cyA9IChtZXNzYWdlcywgY2FsbE9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmludm9jYXRpb25QYXJhbXMoKSxcbiAgICAgICAgICAgICAgICBtb2RlbDogdGhpcy5tb2RlbE5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGNhbGxPcHRpb25zPy5zdG9wKSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHBhcmFtcykuaW5jbHVkZXMoXCJzdG9wXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImBzdG9wYCBmb3VuZCBpbiBib3RoIHRoZSBpbnB1dCBhbmQgZGVmYXVsdCBwYXJhbXMuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VEaWN0cyA9IG1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4gX2NvbnZlcnRNZXNzYWdlVG9EaWN0KG1lc3NhZ2UpKTtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlRGljdHM7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VuZXJhdGVkUmVzcG9uc2VzLmdlbmVyYXRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBnZW5lcmF0aW9uID0gZ2VuZXJhdGVkUmVzcG9uc2VzLmdlbmVyYXRpb25zW2ldO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZURpY3RzID0gX2NyZWF0ZU1lc3NhZ2VEaWN0cyhtZXNzYWdlcywgcGFyc2VkT3B0aW9ucyk7XG4gICAgICAgICAgICBsZXQgcHJvbXB0TGF5ZXJSZXF1ZXN0SWQ7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRSZXNwID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogZ2VuZXJhdGlvbi50ZXh0LFxuICAgICAgICAgICAgICAgICAgICByb2xlOiBtZXNzYWdlVHlwZVRvT3BlbkFJUm9sZShnZW5lcmF0aW9uLm1lc3NhZ2UuX2dldFR5cGUoKSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBjb25zdCBwcm9tcHRMYXllclJlc3BCb2R5ID0gYXdhaXQgcHJvbXB0TGF5ZXJUcmFja1JlcXVlc3QodGhpcy5jYWxsZXIsIFwibGFuZ2NoYWluLlByb21wdExheWVyQ2hhdE9wZW5BSVwiLCBtZXNzYWdlRGljdHMsIHRoaXMuX2lkZW50aWZ5aW5nUGFyYW1zKCksIHRoaXMucGxUYWdzLCBwYXJzZWRSZXNwLCByZXF1ZXN0U3RhcnRUaW1lLCByZXF1ZXN0RW5kVGltZSwgdGhpcy5wcm9tcHRMYXllckFwaUtleSk7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXR1cm5Qcm9tcHRMYXllcklkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb21wdExheWVyUmVzcEJvZHkuc3VjY2VzcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9tcHRMYXllclJlcXVlc3RJZCA9IHByb21wdExheWVyUmVzcEJvZHkucmVxdWVzdF9pZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFnZW5lcmF0aW9uLmdlbmVyYXRpb25JbmZvIHx8XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBnZW5lcmF0aW9uLmdlbmVyYXRpb25JbmZvICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb24uZ2VuZXJhdGlvbkluZm8gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbi5nZW5lcmF0aW9uSW5mby5wcm9tcHRMYXllclJlcXVlc3RJZCA9IHByb21wdExheWVyUmVxdWVzdElkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZW5lcmF0ZWRSZXNwb25zZXM7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkNvbmZpZ3VyYXRpb24iLCJPcGVuQUlBcGkiLCJnZXRFbnZpcm9ubWVudFZhcmlhYmxlIiwiaXNOb2RlIiwiZmV0Y2hBZGFwdGVyIiwiQmFzZUNoYXRNb2RlbCIsIkFJQ2hhdE1lc3NhZ2UiLCJDaGF0TWVzc2FnZSIsIkh1bWFuQ2hhdE1lc3NhZ2UiLCJTeXN0ZW1DaGF0TWVzc2FnZSIsImdldE1vZGVsTmFtZUZvclRpa3Rva2VuIiwicHJvbXB0TGF5ZXJUcmFja1JlcXVlc3QiLCJmb3JtYXRUb09wZW5BSUZ1bmN0aW9uIiwibWVzc2FnZVR5cGVUb09wZW5BSVJvbGUiLCJ0eXBlIiwiRXJyb3IiLCJvcGVuQUlSZXNwb25zZVRvQ2hhdE1lc3NhZ2UiLCJtZXNzYWdlIiwicm9sZSIsImNvbnRlbnQiLCJmdW5jdGlvbl9jYWxsIiwiQ2hhdE9wZW5BSSIsImNhbGxLZXlzIiwibGNfc2VjcmV0cyIsIm9wZW5BSUFwaUtleSIsImF6dXJlT3BlbkFJQXBpS2V5IiwibGNfYWxpYXNlcyIsIm1vZGVsTmFtZSIsImF6dXJlT3BlbkFJQXBpVmVyc2lvbiIsImF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lIiwiYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSIsImNvbnN0cnVjdG9yIiwiZmllbGRzIiwiY29uZmlndXJhdGlvbiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwidmFsdWUiLCJtb2RlbEt3YXJncyIsInRpbWVvdXQiLCJ0ZW1wZXJhdHVyZSIsInRvcFAiLCJmcmVxdWVuY3lQZW5hbHR5IiwicHJlc2VuY2VQZW5hbHR5IiwibWF4VG9rZW5zIiwibiIsImxvZ2l0QmlhcyIsInN0b3AiLCJzdHJlYW1pbmciLCJjbGllbnRDb25maWciLCJhcGlLZXkiLCJpbnZvY2F0aW9uUGFyYW1zIiwibW9kZWwiLCJ0b3BfcCIsImZyZXF1ZW5jeV9wZW5hbHR5IiwicHJlc2VuY2VfcGVuYWx0eSIsIm1heF90b2tlbnMiLCJ1bmRlZmluZWQiLCJsb2dpdF9iaWFzIiwic3RyZWFtIiwiX2lkZW50aWZ5aW5nUGFyYW1zIiwibW9kZWxfbmFtZSIsImlkZW50aWZ5aW5nUGFyYW1zIiwiX2dlbmVyYXRlIiwibWVzc2FnZXMiLCJvcHRpb25zIiwicnVuTWFuYWdlciIsInRva2VuVXNhZ2UiLCJwYXJhbXMiLCJmdW5jdGlvbnMiLCJ0b29scyIsIm1hcCIsIm1lc3NhZ2VzTWFwcGVkIiwiX2dldFR5cGUiLCJ0ZXh0IiwibmFtZSIsImRhdGEiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlc3BvbnNlIiwicmVqZWN0ZWQiLCJyZXNvbHZlZCIsImNvbXBsZXRpb25XaXRoUmV0cnkiLCJzaWduYWwiLCJhZGFwdGVyIiwicmVzcG9uc2VUeXBlIiwib25tZXNzYWdlIiwiZXZlbnQiLCJ0cmltIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJpZCIsIm9iamVjdCIsImNyZWF0ZWQiLCJjaG9pY2VzIiwicGFydCIsImNob2ljZSIsImZpbmQiLCJjIiwiaW5kZXgiLCJmaW5pc2hfcmVhc29uIiwiZGVsdGEiLCJhcmd1bWVudHMiLCJoYW5kbGVMTE1OZXdUb2tlbiIsImV2ZXJ5IiwiY2F0Y2giLCJjb21wbGV0aW9uX3Rva2VucyIsImNvbXBsZXRpb25Ub2tlbnMiLCJwcm9tcHRfdG9rZW5zIiwicHJvbXB0VG9rZW5zIiwidG90YWxfdG9rZW5zIiwidG90YWxUb2tlbnMiLCJ1c2FnZSIsImdlbmVyYXRpb25zIiwicHVzaCIsImxsbU91dHB1dCIsImdldE51bVRva2Vuc0Zyb21NZXNzYWdlcyIsInRvdGFsQ291bnQiLCJ0b2tlbnNQZXJNZXNzYWdlIiwidG9rZW5zUGVyTmFtZSIsInN0YXJ0c1dpdGgiLCJjb3VudFBlck1lc3NhZ2UiLCJhbGwiLCJ0ZXh0Q291bnQiLCJnZXROdW1Ub2tlbnMiLCJyb2xlQ291bnQiLCJuYW1lQ291bnQiLCJjb3VudCIsInJlcXVlc3QiLCJjbGllbnQiLCJlbmRwb2ludCIsImJhc2VQYXRoIiwiYmFzZU9wdGlvbnMiLCJheGlvc09wdGlvbnMiLCJoZWFkZXJzIiwiY2FsbGVyIiwiY2FsbCIsImNyZWF0ZUNoYXRDb21wbGV0aW9uIiwiYmluZCIsInRoZW4iLCJyZXMiLCJfbGxtVHlwZSIsIl9jb21iaW5lTExNT3V0cHV0IiwibGxtT3V0cHV0cyIsInJlZHVjZSIsImFjYyIsIlByb21wdExheWVyQ2hhdE9wZW5BSSIsInByb21wdExheWVyQXBpS2V5IiwicHJvY2VzcyIsImVudiIsIlBST01QVExBWUVSX0FQSV9LRVkiLCJwbFRhZ3MiLCJyZXR1cm5Qcm9tcHRMYXllcklkIiwicmVxdWVzdFN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJwYXJzZWRPcHRpb25zIiwiQXJyYXkiLCJpc0FycmF5IiwiQWJvcnRTaWduYWwiLCJnZW5lcmF0ZWRSZXNwb25zZXMiLCJyZXF1ZXN0RW5kVGltZSIsIl9jb252ZXJ0TWVzc2FnZVRvRGljdCIsIm1lc3NhZ2VEaWN0IiwiX2NyZWF0ZU1lc3NhZ2VEaWN0cyIsImNhbGxPcHRpb25zIiwia2V5cyIsImluY2x1ZGVzIiwibWVzc2FnZURpY3RzIiwiaSIsImxlbmd0aCIsImdlbmVyYXRpb24iLCJwcm9tcHRMYXllclJlcXVlc3RJZCIsInBhcnNlZFJlc3AiLCJwcm9tcHRMYXllclJlc3BCb2R5Iiwic3VjY2VzcyIsInJlcXVlc3RfaWQiLCJnZW5lcmF0aW9uSW5mbyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(sc_server)/./node_modules/langchain/dist/chat_models/openai.js\n");

/***/ }),

/***/ "(sc_server)/./node_modules/langchain/dist/tools/convert_to_openai.js":
/*!****************************************************************!*\
  !*** ./node_modules/langchain/dist/tools/convert_to_openai.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatToOpenAIFunction: () => (/* binding */ formatToOpenAIFunction)\n/* harmony export */ });\n/* harmony import */ var zod_to_json_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod-to-json-schema */ \"(sc_server)/./node_modules/zod-to-json-schema/index.js\");\n\nfunction formatToOpenAIFunction(tool) {\n    return {\n        name: tool.name,\n        description: tool.description,\n        parameters: (0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_0__.zodToJsonSchema)(tool.schema)\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNjX3NlcnZlcikvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdG9vbHMvY29udmVydF90b19vcGVuYWkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUQ7QUFDOUMsU0FBU0MsdUJBQXVCQyxJQUFJO0lBQ3ZDLE9BQU87UUFDSEMsTUFBTUQsS0FBS0M7UUFDWEMsYUFBYUYsS0FBS0U7UUFDbEJDLFlBQVlMLG1FQUFlQSxDQUFDRSxLQUFLSTtJQUNyQztBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW9vZC8uL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC90b29scy9jb252ZXJ0X3RvX29wZW5haS5qcz80NjM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHpvZFRvSnNvblNjaGVtYSB9IGZyb20gXCJ6b2QtdG8tanNvbi1zY2hlbWFcIjtcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRUb09wZW5BSUZ1bmN0aW9uKHRvb2wpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiB0b29sLmRlc2NyaXB0aW9uLFxuICAgICAgICBwYXJhbWV0ZXJzOiB6b2RUb0pzb25TY2hlbWEodG9vbC5zY2hlbWEpLFxuICAgIH07XG59XG4iXSwibmFtZXMiOlsiem9kVG9Kc29uU2NoZW1hIiwiZm9ybWF0VG9PcGVuQUlGdW5jdGlvbiIsInRvb2wiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJwYXJhbWV0ZXJzIiwic2NoZW1hIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(sc_server)/./node_modules/langchain/dist/tools/convert_to_openai.js\n");

/***/ })

};
;